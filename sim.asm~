START
MOV SP, 0
MOV BP, 0
JMP main
MOV R0,[3]
MOV R1,[4]
ADD R0,R1
MOV [2],R0
I0:MOV R0,[0]
MOV R1,[1]
EQ R0,R1
JZ R0,E0
MOV R0,[3]
MOV [2],R0
JMP EI0
E0:
MOV R0,9
EI0:
MOV R1,[3]
MOV [2],R1
I1:MOV R1,1
SUB R1,R0
MOV R0,1
JZ R0,E1
MOV R0,[3]
MOV [2],R0
JMP EI1
E1:
EI1:
W0:MOV R0,[2]
MOV R1,[3]
EQ R0,R1
JZ R0,EW0
MOV R0,9
MOV [6],R0
JMP W0
EW0:IN R0
MOV [2],R0
MOV R0,[3]
MOV R1,5
ADD R0,R1
OUT R0
MOV R0,1
HALT
main: 
PUSH BP
MOV BP,SP
